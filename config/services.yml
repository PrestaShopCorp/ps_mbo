imports:
    - { resource: services/*.yml }

services:
  _defaults:
    public: true

  mbo.externalcontent.provider:
    class: 'PrestaShop\Module\Mbo\ExternalContentProvider\ExternalContentProvider'

  mbo.recommendedmodules.presenter:
    class: 'PrestaShop\Module\Mbo\RecommendedModule\RecommendedModulePresenter'
    arguments:
      - '@prestashop.adapter.presenter.module'

  mbo.addons_selection_link_provider:
    class: 'PrestaShop\Module\Mbo\Addons\SelectionLinkProvider'
    arguments:
      - '@prestashop.core.foundation.version'
      - '@prestashop.adapter.legacy.context'
      - '@prestashop.adapter.legacy.configuration'
      - '@request_stack'

  mbo.modules.presenter.listing:
    class: 'PrestaShop\Module\Mbo\Modules\Presenter\ModulesForListingPresenter'
    arguments:
      - '@prestashop.adapter.presenter.module'
      - '@twig'
      - '@translator'
      - '@mbo.security.permission_checker'
      - '@prestashop.categories_provider'

  mbo.addons_themes_link_provider:
    class: 'PrestaShop\Module\Mbo\AddonsThemesLinkProvider'
    arguments:
      - '@prestashop.adapter.legacy.context'
      - '@prestashop.adapter.hosting_information'

  mbo.controller.modules.catalog:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\ModuleCatalogController'
    arguments:
      - '@mbo.addon.toolbar'
      - '@mbo.modules.builder'
      - '@mbo.modules.repository'
      - '@prestashop.adapter.presenter.module'
      - '@mbo.modules.presenter.listing'

  mbo.controller.modules.selection:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\ModuleSelectionController'
    arguments:
      - '@request_stack'
      - '@mbo.externalcontent.provider'
      - '@mbo.addons_selection_link_provider'

  mbo.controller.modules.recommended:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\ModuleRecommendedController'
    arguments:
      - '@request_stack'
      - '@mbo.tab.collection.provider'
      - '@mbo.recommendedmodules.presenter'

  mbo.controller.themes.catalog:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\ThemeCatalogController'
    arguments:
      - '@request_stack'
      - '@mbo.externalcontent.provider'
      - '@mbo.addons_selection_link_provider'

  mbo.controller.addons:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\AddonsController'
    arguments:
      - '@request_stack'
      - '@mbo.addon.module.data_provider.addons'
      - '@prestashop.core.admin.data_provider.module_interface'
      - '@prestashop.module.manager'
      - '@mbo.modules.repository'
      - '@prestashop.core.admin.module.repository'

  mbo.controller.dashboard.news:
    class: 'PrestaShop\Module\Mbo\Controller\Admin\DashboardNewsController'
    arguments:
      - '@prestashop.adapter.legacy.context'
      - '@mbo.service.news.provider'
